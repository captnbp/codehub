ingress:
  enabled: true
  annotations:
    # add an annotation indicating the issuer to use.
    cert-manager.io/cluster-issuer: letsencrypt-prod
    kubernetes.io/ingress.class: nginx
    nginx.ingress.kubernetes.io/backend-protocol: https
  hosts:
    - code-server-hub.domain.tld
  tls:
    - hosts:
        - code-server-hub.domain.tld
      secretName: code-server-hub-tls
proxy:
  service:
    type: ClusterIP
  https:
    enabled: true
    type: secret
    secret:
      name: code-server-hub-tls
      key: tls.key
      crt: tls.crt

hub:
  db:
    type: sqlite-pvc
    upgrade:
    pvc:
      annotations: {}
      selector: {}
      accessModes:
        - ReadWriteOnce
      storage: 1Gi
      subPath:
      storageClassName: local-path

singleuser:
  # Mandatory for Bare Metal installation
  cloudMetadata:
    enabled: true
  cpu:
    limit: 4
    guarantee: 1
  memory:
    limit: 8G
    guarantee: 1G
  storage:
    type: dynamic
    extraLabels: {}
    extraVolumes: []
    extraVolumeMounts: []
    static:
      pvcName:
      subPath: '{username}'
    capacity: 20Gi
    homeMountPath: /home/coder
    dynamic:
      storageClass: local-path
      pvcNameTemplate: claim-{username}{servername}
      volumeNameTemplate: volume-{username}{servername}
      storageAccessModes: [ReadWriteOnce]